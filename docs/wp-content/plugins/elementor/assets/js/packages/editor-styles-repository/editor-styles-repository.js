/*! For license information please see editor-styles-repository.js.LICENSE.txt */
!function(){"use strict";var e={react:function(e){e.exports=window.React},"@elementor/editor-elements":function(e){e.exports=window.elementorV2.editorElements},"@elementor/editor-v1-adapters":function(e){e.exports=window.elementorV2.editorV1Adapters},"@elementor/schema":function(e){e.exports=window.elementorV2.schema},"@elementor/utils":function(e){e.exports=window.elementorV2.utils},"@wordpress/i18n":function(e){e.exports=window.wp.i18n}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};!function(){r.r(n),r.d(n,{ELEMENTS_BASE_STYLES_PROVIDER_KEY:function(){return x},ELEMENTS_STYLES_PROVIDER_KEY_PREFIX:function(){return g},ELEMENTS_STYLES_RESERVED_LABEL:function(){return _},createStylesProvider:function(){return y},init:function(){return R},isElementsStylesProvider:function(){return S},stylesRepository:function(){return a},useGetStylesRepositoryCreateAction:function(){return c},useProviders:function(){return u},validateStyleLabel:function(){return h}});var e=r("react"),t=r("@elementor/schema"),s=r("@wordpress/i18n"),o=r("@elementor/editor-elements"),i=r("@elementor/editor-v1-adapters"),l=r("@elementor/utils"),a=(()=>{const e=[],t=()=>e.slice(0).sort(((e,t)=>e.priority>t.priority?-1:1));return{all:(e={})=>t().flatMap((t=>t.actions.all(e))),register:t=>{e.push(t)},subscribe:t=>{const r=e.map((e=>e.subscribe(t)));return()=>{r.forEach((e=>e()))}},getProviders:t,getProviderByKey:t=>e.find((e=>e.getKey()===t))}})();function u(){const[,t]=(0,e.useReducer)((e=>!e),!1);return(0,e.useEffect)((()=>a.subscribe(t)),[]),a.getProviders()}function c(){return(0,e.useMemo)((()=>{const e=a.getProviders().map((e=>e.actions.create?[e,e.actions.create]:null)).filter((e=>!!e));if(1===e.length)return e[0];if(0===e.length)return null;throw new Error("Multiple providers with create action found in styles repository.")}),[])}var d=(0,l.createError)({code:"invalid_elements_style_provider_meta",message:"Invalid elements style provider meta."}),m=(0,l.createError)({code:"active_document_must_exist",message:"Active document must exist."}),p=1e4,f=10;function y({key:e,priority:t=f,limit:r=p,subscribe:n=()=>()=>{},labels:s,actions:o}){return{getKey:"string"==typeof e?()=>e:e,priority:t,limit:r,subscribe:n,labels:{singular:s?.singular??null,plural:s?.plural??null},actions:{all:o.all,get:o.get,create:o.create,delete:o.delete,update:o.update,updateProps:o.updateProps}}}var g="document-elements-",_="local",w=y({key:()=>{const e=(0,o.getCurrentDocumentId)();if(!e)throw new m;return`${g}${e}`},priority:50,subscribe:e=>(0,i.__privateListenTo)(o.styleRerenderEvents,e),actions:{all:(e={})=>{let t=(0,o.getElements)();return v(e)&&(t=t.filter((t=>t.id===e.elementId))),t.flatMap((e=>Object.values(e.model.get("styles")??{})))},get:(e,t={})=>{if(!v(t))throw new d({context:{meta:t}});return((0,o.getElementStyles)(t.elementId)??{})[e]??null},updateProps:(e,t={})=>{if(!v(t))throw new d({context:{meta:t}});(0,o.updateElementStyle)({elementId:t.elementId,styleId:e.id,meta:e.meta,props:e.props})}}});function v(e){return"elementId"in e&&"string"==typeof e.elementId&&!!e.elementId}var b=["container"],E=t.z.string().max(50,(0,s.__)("Class name is too long. Please keep it under 50 characters.","elementor")).regex(/^(|[^0-9].*)$/,(0,s.__)("Class names must start with a letter.","elementor")).regex(/^\S*$/,(0,s.__)("Class names can’t contain spaces.","elementor")).regex(/^(|[a-zA-Z0-9_-]+)$/,(0,s.__)("Class names can only use letters, numbers, dashes (-), and underscores (_).","elementor")).regex(/^(?!--).*/,(0,s.__)("Double hyphens are reserved for custom properties.","elementor")).regex(/^(?!-[0-9])/,(0,s.__)("Class names can’t start with a hyphen followed by a number.","elementor")).refine((e=>!b.includes(e)),{message:(0,s.__)("This name is reserved and can’t be used. Try something more specific.","elementor")});function h(e,t){const r=new Set([_,...a.all().map((e=>e.label.toLowerCase()))]),n=["create","rename"].includes(t),o=E.refine((e=>!(n&&e.length<2)),{message:(0,s.__)("Class name is too short. Use at least 2 characters.","elementor")}).refine((e=>!(n&&r.has(e))),{message:(0,s.__)("This class name already exists. Please choose a unique name.","elementor")}).safeParse(e.toLowerCase());return o.success?{isValid:!0,errorMessage:null}:{isValid:!1,errorMessage:o.error.format()._errors[0]}}function S(e){return new RegExp(`^${g}\\d+$`).test(e)}var x="element-base-styles",P=y({key:x,actions:{all(){const e=(0,o.getWidgetsCache)();return Object.values(e??{}).flatMap((e=>Object.values(e.base_styles??{})))},get(e){return this.all().find((t=>t.id===e))??null}}});function R(){a.register(w),a.register(P)}}(),(window.elementorV2=window.elementorV2||{}).editorStylesRepository=n}(),window.elementorV2.editorStylesRepository?.init?.();